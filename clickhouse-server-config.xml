<?xml version="1.0"?>
<!-- ClickHouse Server Configuration for Maximum Insert Performance -->
<clickhouse>
    <!-- Performance Settings for Fast Inserts -->
    <max_insert_threads>16</max_insert_threads>
    <min_insert_block_size_bytes>1048576</min_insert_block_size_bytes>
    <max_memory_usage>20000000000</max_memory_usage>
    <max_threads>32</max_threads>
    <max_concurrent_queries>200</max_concurrent_queries>
    <max_concurrent_inserts>200</max_concurrent_inserts>
    
    <!-- Merge Settings for Fast Inserts -->
    <parts_to_throw_insert>2000</parts_to_throw_insert>
    <parts_to_delay_insert>2000</parts_to_delay_insert>
    <max_insert_size>2000000000</max_insert_size>
    
    <!-- Async Insert Settings -->
    <async_insert>1</async_insert>
    <wait_for_async_insert>0</wait_for_async_insert>
    <async_insert_max_data_size>10485760</async_insert_max_data_size>
    <async_insert_busy_timeout_ms>200</async_insert_busy_timeout_ms>
    <async_insert_stale_timeout_ms>0</async_insert_stale_timeout_ms>
    
    <!-- Network Settings -->
    <max_connections>1000</max_connections>
    <keep_alive_timeout>30</keep_alive_timeout>
    <listen_backlog>4096</listen_backlog>
    
    <!-- Memory Settings -->
    <max_memory_usage_for_user>10000000000</max_memory_usage_for_user>
    <max_memory_usage_for_all_queries>50000000000</max_memory_usage_for_all_queries>
    
    <!-- Background Processing -->
    <background_pool_size>32</background_pool_size>
    <background_schedule_pool_size>32</background_schedule_pool_size>
    
    <!-- Compression Settings -->
    <compression>
        <case>
            <min_part_size>10000000</min_part_size>
            <min_part_size_ratio>0.01</min_part_size_ratio>
            <method>lz4</method>
        </case>
    </compression>
    
    <!-- Logging Settings -->
    <logger>
        <level>warning</level>
        <log_queries>0</log_queries>
        <log_query_threads>0</log_query_threads>
    </logger>
</clickhouse>
